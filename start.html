<!DOCTYPE html>
<html>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  

  <link href="assets/favicon.ico" rel="shortcut icon">
  <link href="assets/apple-touch-icon.png" rel="apple-touch-icon">

  <link href="http://fonts.googleapis.com/css?family=Oswald:400,300,700" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600" rel="stylesheet" type="text/css">
  <title>OpenDiscovery Documentation</title>
  <script src='038b536d1cb3a0e2c584e8b60d922559.js'></script>

  <link rel='stylesheet' href='4f3a732d02b2e4bdcec1ec66bb01ff17.css'>
</head>

<body>

<div id="menu-wrapper">
<ul id="top-menu">
  <!--<li class="active">
    <a href="#">Top</a>
  </li>-->
  <li class="active"><a href="#principles">Principles</a></li>
  <li><a href="#installation">Installation</a></li>
  <li><a href="#example">Example</a></li>
  <li><a href="#documentation">Documentation</a></li>
  <li><a href="#contact">Contact</a></li>
</ul>
</div>


  <article id="principles" class="transparent">
    <div class="wrapper">
      <h1>OpenDiscovery</h1>

      <h2>Basic Principles</h2>
      <p>OpenDiscovery is a <span>python module</span>. It aims to provide an automated interface to ligand-protein docking, accompanied by cheminformatics and other tools to help filter the list of possible drug targets. It handles all required conversions.</p>

      <p>Once installed on your system, you can use OpenDiscovery in any python script. A few variants are provided, and are installed along with the module. These include scripts that:</p>

      <ul>
        <li>Dock n ligands to a single receptor protein</li>
        <li>Dock n ligands to n receptor proteins</li>
        <li>Dock n ligands, with n configuration files, to n receptor proteins.</li>
      </ul>

      <h2>Pre-requisites</h2>
      <p>At the moment only unix (Mac) and linux machines are supported. These systems should already have python installed. The version of python required is 2.6.X or 2.7.X. Version 3.X is currently not supported.</p>

      <p><a href="http://openbabel.org/docs/dev/Installation/install.html">Open Babel</a> must also be installed.</p>

      <h2>Terminology</h2>
      <p>Common terminology includes:</p>
      <dl>
        <dt>Receptor: </dt>
        <dd>The protein to which the chemical compound is docked to. Note: use AutoDockTools to prepare the receptor as described by <a target="_blank" href="http://vina.scripps.edu/tutorial.html">its creators</a>. The video tutorial includes a good introduction to docking.</dd>

        <dt>Exhaustiveness:</dt>
        <dd>Somewhat ambigious, but can be thought of as being proportional to the amount of effort the docking uses to search all orientations, positions and rotations of the ligand.</dd>

        <dt>Ligand Folder</dt>
        <dd>The folder in which the conf files, ligands and receptor proteins are located.</dd>

        <dt>PDBQT</dt>
        <dd>A PDBQT file is a normal PDB file (i.e. atoms, chains, xyz coordinates etc.) with partial charges (Q) and atom types (T).</dd>

        <dt>Conf File</dt>
        <dd>Docking programs require a box in which they can look at different orientations, positions and rotations of the ligand. This should be created using AutoDockTools.</dd>
      </dl>
    </div>
  </article>

  <article id="installation" class="grey">
    <div class="wrapper">
      <h2>Installation</h2>
      <p>Although there is more than one way to install OpenDiscovery, the intended way is to use <strong>pip</strong>, the python package manager.</p>

      <h3>Installing pip</h3>
      <p>You can find all the methods of installing pip by looking at the documentation for it <a target="_blank" href="pip.readthedocs.org/en/latest/installing.html">here.</a></p>

      <p>However, the simplest way is to download <a target="_blank" href="https://raw.github.com/pypa/pip/master/contrib/get-pip.py">get_pip.py</a>, and using terminal, run it through the python interpreter. After, check it is installed properly by retrieving its version:</p>

      <div class="preblock">
        <pre class="shell"><code data-language="shell">sudo python get_pip.py</code></pre>
        <pre class="shell"><code data-language="shell">pip -V</code></pre>
      </div>

      <span class="note">Please note: by typing 'sudo' you will be required to type your password. This allows the command root access to install files where they need to go.</span>

      <h3>Installing OpenDiscovery</h3>
      <p>Assuming pip has installed correctly, OpenDiscovery can be installed by the following command:</p>

      <pre><code data-language="shell">sudo pip install OpenDiscovery</code></pre>
      <span class="note">Please note: by typing 'sudo' you will be required to type your password. This allows the command root access to install files where they need to go.</span>

      <p>If you do not have root (such as on a cluster of workstations), pip can be used to install modules into a user directory:</p>

      <pre><code data-language="shell">pip install --user OpenDiscovery</code></pre>

      <p>There are other options <a target="_blank" href="https://www.pik-potsdam.de/members/linstead/guides/python-on-the-cluster/installing-your-own-python-modules-on-the-cluster">here</a>.</p>

    </div>
  </article>

  <article id="example" class="green">
    <div class="wrapper">
      <h2>Using OpenDiscovery- an example using ODScreen</h2>
      <p><b>ODScreen.py</b> is the simplest script that is provided with OpenDiscovery. It docks multiple ligands to a single receptor.</p>

      <h3>Setting up the ligand folder</h3>
      <p>The receptor protein must be located within a folder named <b>receptor</b>. A PDB version must be present, and a PDBQT version, generated using <a href="http://autodock.scripps.edu/resources/adt">AutoDockTools</a>, must also be present with the same name as the PDB version. Finally, a conf file must be present, again with the same name, ending with a .txt extension.</p>

      <p><b>Note:</b> the ligand folder can be placed anywhere on your computer. Just remember the path to it.</p>

      <p>Next, we need to set up the ligand folder. Here, we can place ligands in any format that open babel allows. For example, we could have X.pdb, Y.mol, Z.mol2 and so on.</p>

      <figure>
        <img src="assets/images/ligand-folder.png" alt="">
        <figcaption>
          The receptor folder must have three files, all with the same name (but different extensions).
        </figcaption>
      </figure>

      <h3>Looking into ODScreen</h3>
      <p>At its most basic level, odscreen.py is:</p>

      <pre><code data-language="python">import OpenDiscovery.screen as OD

options                   = {}
options['directory']      = '/path/to/ligand-folder/'
options['receptor']       = 'receptor'

OD.Screen(
    directory             = options['directory'],
    receptor              = options['receptor'],
    exhaustiveness        = 50,
).run()
</code></pre>

      <p>The import statement at the top includes the OpenDiscovery module. We then set up some options for the screening, namely the receptor name and the path to the ligand folder. If your receptor was called example-123 (and you had example-123.pdb, example-123.pdbqt and example-123.txt in the receptor folder), and the ligand folder is called test and is in your Desktop, you could set the options up as:</p>

      <pre><code data-language="python">options                   = {}
options['directory']      = '~/Desktop/test'
options['receptor']       = 'example-123'</code></pre>


      <p>With this in place, it can be run in terminal using the python shell:</p>
      <pre class="shell"><code data-language="shell">python odscreen.py

 ==> receptor
 ==> Converting to PDBs
     ████████████████████ 3/3

 ==> Minimising Ligands
     ████████████████████ 3/3

 ==> Preparing PDBQTs
     ████████████████████ 3/3

 ==> Perform Screening
     ████████████████████ 3/3

 ==> Extracting Models
     ████████████████████ 3/3

 ==> Gathering Results
     ████████████████████ 3/3
</code></pre>

        <p>A host of files are created, including minimised PDBs and PDBQTs of the ligands. Most interesting are the results in the results-receptor folder. Summary.csv is an excel compatible file that has the top binding energy value for each ligand. Within each ligand's folder, there are extracted modes and the log files from the screening.</p>

        <p>It is useful to note that od.json can be used if odscreen is performed again on the same ligand folder. OpenDiscovery will load up information and will only perform new actions.</p>

      <figure>
        <img src="assets/images/results.png" alt="">
        <figcaption>
          Example results folder.
        </figcaption>
      </figure>

    </div>
  </article>

  <article id="documentation" class="grey">
    <div class="wrapper">
      <h2>Documentation</h2>
      <p>Although this section is somewhat dry, read this to ensure you provide everything in the correct manner when using one of the provided scripts.</p>

      <h3>ODScreen</h3>
      <ul>
        <li><strong>Folder structure:</strong> 1 folder named "ligands", 1 folder named "receptor". </li>
        <li>Within the ligand folder must be files whose format open babel can handle. </li>
        <li>Within the receptor folder must be three files, all with the same name but with extensions PDB, PDBQT and TXT.</li>
      </ul>

      <h3>ODMScreen</h3>
      <ul>
        <li><strong>Folder structure:</strong> 1 folder named "ligands", 1 folder named "receptor". </li>
        <li>Within the ligand folder must be files whose format open babel can handle. </li>
        <li>Within the receptor folder must be at least three files, all with the same name but with extensions PDB, PDBQT and TXT. Multiple receptors can be put in here and the script will loop through all receptors for each ligand.</li>
        <li>A writeCompleteSummary() function is available to merge all the separate summary.csv files into one big excel file.</li>
        <li>A plot() function is available to plot a 2 dimensional heat map.</li>
      </ul>

      <h3>ODCMScreen</h3>
      <ul>
        <li><strong>Folder structure:</strong> 1 folder named "ligands", 1 folder named "receptor", 1 folder named "confs". </li>
        <li>Within the ligand folder must be files whose format open babel can handle. </li>
        <li>Within the receptor folder must be at least two files, both with the same name but with extensions PDBand PDBQT . Multiple receptors can be put in here and the script will loop through all receptors for each ligand.</li>
        <li>Within the confs folder must be files prefixed with the same name as the corresponding folder, and having file extensions of TXT. For each receptor, all conf files will be looped through.</li>
        <li>A writeCompleteSummary() function is available to merge all the separate summary.csv files into one big excel file.</li>
      </ul>

    </div>
  </article>

  <article class="transparent" id="contact">
    <div class="wrapper">
      <h2>Contact</h2>
      <p>If you need help, feel free to email <a href="mailto:gareth.price@warwick.ac.uk">Gareth Price</a>.</p>
    </div>
  </article>



  <footer>
    <a href="#">&copy; OpenDiscovery 2014</a>
  </footer>
</body>
</html>